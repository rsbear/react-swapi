{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { useAllFilmsQuery, useAllCharacterNamesQuery, useAllStarshipsQuery } from '../generated/graphql';\nconst initState = [];\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'setType':\n      return [...state, action.payload];\n\n    default:\n      return [];\n  }\n};\n\nexport const useTypeFilter = () => {\n  // const [state, dispatch] = useReducer(reducer, initState)\n  const {\n    0: state,\n    1: setState\n  } = useState([]);\n  const movies = useAllFilmsQuery();\n  const persons = useAllCharacterNamesQuery();\n  const starships = useAllStarshipsQuery();\n  useEffect(() => {\n    if (!movies.loading && !movies.error) {\n      setState(prevState => {\n        return [...prevState, movies.data.allFilms];\n      });\n    }\n  }, [state]);\n  return [state];\n};","map":{"version":3,"sources":["/Users/rsbear/dev/swapiplayground/webapp/hooks/useTypeFilter.ts"],"names":["useState","useEffect","useAllFilmsQuery","useAllCharacterNamesQuery","useAllStarshipsQuery","initState","reducer","state","action","type","payload","useTypeFilter","setState","movies","persons","starships","loading","error","prevState","data","allFilms"],"mappings":"AAAA,SAAgBA,QAAhB,EAA0BC,SAA1B,QAAuD,OAAvD;AACA,SAASC,gBAAT,EAA2BC,yBAA3B,EAAsDC,oBAAtD,QAAkF,sBAAlF;AAEA,MAAMC,SAAS,GAAG,EAAlB;;AAEA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,SAAL;AACE,aAAO,CAAC,GAAGF,KAAJ,EAAWC,MAAM,CAACE,OAAlB,CAAP;;AACF;AACE,aAAO,EAAP;AAJJ;AAMD,CAPD;;AASA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC;AACA,QAAM;AAAA,OAACJ,KAAD;AAAA,OAAQK;AAAR,MAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMa,MAAM,GAAGX,gBAAgB,EAA/B;AACA,QAAMY,OAAO,GAAGX,yBAAyB,EAAzC;AACA,QAAMY,SAAS,GAAGX,oBAAoB,EAAtC;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACY,MAAM,CAACG,OAAR,IAAmB,CAACH,MAAM,CAACI,KAA/B,EAAsC;AACpCL,MAAAA,QAAQ,CAACM,SAAS,IAAI;AACpB,eAAO,CAAC,GAAGA,SAAJ,EAAeL,MAAM,CAACM,IAAP,CAAYC,QAA3B,CAAP;AACD,OAFO,CAAR;AAGD;AACF,GANQ,EAMN,CAACb,KAAD,CANM,CAAT;AAQA,SAAO,CAACA,KAAD,CAAP;AACD,CAhBM","sourcesContent":["import React, { useState, useEffect, useReducer } from 'react'\nimport { useAllFilmsQuery, useAllCharacterNamesQuery, useAllStarshipsQuery } from '../generated/graphql'\n\nconst initState = []\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'setType':\n      return [...state, action.payload]\n    default:\n      return []\n  }\n}\n\nexport const useTypeFilter = () => {\n  // const [state, dispatch] = useReducer(reducer, initState)\n  const [state, setState] = useState([])\n  const movies = useAllFilmsQuery()\n  const persons = useAllCharacterNamesQuery()\n  const starships = useAllStarshipsQuery()\n\n  useEffect(() => {\n    if (!movies.loading && !movies.error) {\n      setState(prevState => {\n        return [...prevState, movies.data.allFilms]\n      })\n    }\n  }, [state])\n\n  return [state]\n}"]},"metadata":{},"sourceType":"module"}